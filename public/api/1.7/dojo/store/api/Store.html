<div class="jsdoc-permalink" style="display:none;">/api/1.7/dojo/store/api/Store</div><h1 class="jsdoc-title constructorIcon36">dojo.store.api.Store <span style="font-size:11px;color:#999;">(version 1.7)</span></h1><div class="jsdoc-prototype">Object &raquo; dojo.store.api.Store</div><div class="jsdoc-require">dojo.require("dojo.store.api.Store");</div><div class="jsdoc-prototype">Defined in dojo/store/api/Store.js</div><div class="jsdoc-function-information"><h3>Usage:</h3><div class="function-signature"><span class="keyword">var</span> foo = new dojo.store.api.Store();</div></div><div class="jsdoc-full-summary"><p>This is an abstract API that data provider implementations conform to.
This file defines methods signatures and intentionally leaves all the
methods unimplemented.  For more information on the dojo.store APIs,
please visit: http://dojotoolkit.org/reference-guide/dojo/store.html
Every method and property is optional, and is only needed if the functionality
it provides is required.
Every method may return a promise for the specified return value if the
execution of the operation is asynchronous (except
for query() which already defines an async return value).</p>
</div><div class="jsdoc-children"><div class="jsdoc-field-list"><h2 class="jsdoc-summary-heading">Property Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="objectIcon public inherited even"><a class="inline-link" href="#data">data</a></li></ul></div><h2 class="jsdoc-summary-heading">Method Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojo.store.api.Store.QueryResults">dojo.store.api.Store.QueryResults</a><span class="parameters">()</span> <span>This is an object returned from query() calls that provides access to the results
	of a query. Queries may be executed asynchronously.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojo.store.api.Store.Transaction">dojo.store.api.Store.Transaction</a><span class="parameters">()</span> <span>This is an object returned from transaction() calls that represents the current
	transaction.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#add">add</a><span class="parameters">(object, directives)</span> <span>Creates an object, throws an error if the object already exists</span></li><li class="functionIcon public  even"><a class="inline-link" href="#constructor">constructor</a><span class="parameters">()</span><span class="jsdoc-returns"> returns dojo.store.api.Store</span> <span>A reference to the constructor function for this object.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#get">get</a><span class="parameters">(id)</span> <span>Retrieves an object by its identity</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#getChildren">getChildren</a><span class="parameters">(parent, options)</span> <span>Retrieves the children of an object.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#getIdentity">getIdentity</a><span class="parameters">(object)</span> <span>Returns an object's identity</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#getMetadata">getMetadata</a><span class="parameters">(object)</span> <span>Returns any metadata about the object. This may include attribution,
	cache directives, history, or version information.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#put">put</a><span class="parameters">(object, directives)</span> <span>Stores an object</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#query">query</a><span class="parameters">(query, options)</span> <span>Queries the store for objects. This does not alter the store, but returns a
	set of data from the store.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#queryEngine">queryEngine</a><span class="parameters">()</span> <span>If the store can be queried locally (on the client side in JS), this defines
	the query engine to use for querying the data store.
	This takes a query and query options and returns a function that can execute
	the provided query on a JavaScript array. The queryEngine may be replace to
	provide more sophisticated querying capabilities. For example:
	 var query = store.queryEngine({foo:&quot;bar&quot;}, {count:10});
	 query(someArray) -&gt; filtered array
	The returned query function may have a &quot;matches&quot; property that can be
	used to determine if an object matches the query. For example:
	 query.matches({id:&quot;some-object&quot;, foo:&quot;bar&quot;}) -&gt; true
	 query.matches({id:&quot;some-object&quot;, foo:&quot;something else&quot;}) -&gt; false</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#remove">remove</a><span class="parameters">(id)</span> <span>Deletes an object by its identity</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#transaction">transaction</a><span class="parameters">()</span> <span>Starts a new transaction.
	Note that a store user might not call transaction() prior to using put,
	delete, etc. in which case these operations effectively could be thought of
	as &quot;auto-commit&quot; style actions.</span></li></ul></div><h2 class="jsdoc-summary-heading">Attached Objects <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><div class="jsdoc-field"><div class="jsdoc-title"><span class="object"><a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store/data">dojo.store.api.Store.data</a></span></div></div><div class="jsdoc-field"><div class="jsdoc-title"><span class="constructor"><a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store/QueryResults">dojo.store.api.Store.QueryResults</a></span></div></div><div class="jsdoc-field"><div class="jsdoc-title"><span class="constructor"><a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store/Transaction">dojo.store.api.Store.Transaction</a></span></div></div></div></div></div><div class="jsdoc-children"><div class="jsdoc-fields"><h2>Properties</h2><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="data"></a><span class="objectIcon">data</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div></div><h2>Methods</h2><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojo.store.api.Store.QueryResults"></a><span class="functionIcon">dojo.store.api.Store.QueryResults</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div><div class="jsdoc-summary">This is an object returned from query() calls that provides access to the results
	of a query. Queries may be executed asynchronously.</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojo.store.api.Store.Transaction"></a><span class="functionIcon">dojo.store.api.Store.Transaction</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div><div class="jsdoc-summary">This is an object returned from transaction() calls that represents the current
	transaction.</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="add"></a><span class="functionIcon">add</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">Number|String</div></div><div class="jsdoc-summary">Creates an object, throws an error if the object already exists</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">object</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">The object to store.</td></tr><tr><td class="jsdoc-param-name">directives</td><td class="jsdoc-param-type">dojo.store.api.Store.PutDirectives</td><td class="jsdoc-param-description"><div><em>Optional.</em></div>Additional directives for creating objects.</td></tr></table></div><div class="jsdoc-field public  even"><div class="jsdoc-title"><a name="constructor"></a><span class="functionIcon">constructor</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.7/Object">Object</a></div><div class="jsdoc-return-type">Returns <strong>dojo.store.api.Store</strong></div><div class="jsdoc-summary">A reference to the constructor function for this object.</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="get"></a><span class="functionIcon">get</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">Object
	The object in the store that matches the given id.</div></div><div class="jsdoc-summary">Retrieves an object by its identity</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">id</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description">The identity to use to lookup the object</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="getChildren"></a><span class="functionIcon">getChildren</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">dojo.store.api.Store.QueryResults
	A result set of the children of the parent object.</div></div><div class="jsdoc-summary">Retrieves the children of an object.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">parent</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">The object to find the children of.</td></tr><tr><td class="jsdoc-param-name">options</td><td class="jsdoc-param-type">dojo.store.api.Store.QueryOptions</td><td class="jsdoc-param-description"><div><em>Optional.</em></div>Additional options to apply to the retrieval of the children.</td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="getIdentity"></a><span class="functionIcon">getIdentity</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">String|Number</div></div><div class="jsdoc-summary">Returns an object's identity</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">object</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">The object to get the identity from</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="getMetadata"></a><span class="functionIcon">getMetadata</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">Object
	An object containing metadata.</div></div><div class="jsdoc-summary">Returns any metadata about the object. This may include attribution,
	cache directives, history, or version information.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">object</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">The object to return metadata for.</td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="put"></a><span class="functionIcon">put</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">Number|String</div></div><div class="jsdoc-summary">Stores an object</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">object</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">The object to store.</td></tr><tr><td class="jsdoc-param-name">directives</td><td class="jsdoc-param-type">dojo.store.api.Store.PutDirectives</td><td class="jsdoc-param-description"><div><em>Optional.</em></div>Additional directives for storing objects.</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="query"></a><span class="functionIcon">query</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">dojo.store.api.Store.QueryResults
	The results of the query, extended with iterative methods.</div></div><div class="jsdoc-summary">Queries the store for objects. This does not alter the store, but returns a
	set of data from the store.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">query</td><td class="jsdoc-param-type">String|Object|Function</td><td class="jsdoc-param-description">The query to use for retrieving objects from the store.</td></tr><tr><td class="jsdoc-param-name">options</td><td class="jsdoc-param-type">dojo.store.api.Store.QueryOptions</td><td class="jsdoc-param-description">The optional arguments to apply to the resultset.</td></tr></table><div class="jsdoc-examples"><div class="jsdoc-example"><div><strong>Example 1</strong></div>
Given the following store:

...find all items where &quot;prime&quot; is true:

<pre class="brush: js;" lang="javascript">
	store.query({ prime: true }).forEach(function(object){
		// handle each object
	});
</pre></div></div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="queryEngine"></a><span class="functionIcon">queryEngine</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div><div class="jsdoc-summary">If the store can be queried locally (on the client side in JS), this defines
	the query engine to use for querying the data store.
	This takes a query and query options and returns a function that can execute
	the provided query on a JavaScript array. The queryEngine may be replace to
	provide more sophisticated querying capabilities. For example:
	 var query = store.queryEngine({foo:&quot;bar&quot;}, {count:10});
	 query(someArray) -&gt; filtered array
	The returned query function may have a &quot;matches&quot; property that can be
	used to determine if an object matches the query. For example:
	 query.matches({id:&quot;some-object&quot;, foo:&quot;bar&quot;}) -&gt; true
	 query.matches({id:&quot;some-object&quot;, foo:&quot;something else&quot;}) -&gt; false</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="remove"></a><span class="functionIcon">remove</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div><div class="jsdoc-summary">Deletes an object by its identity</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">id</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description">The identity to use to delete the object</td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="transaction"></a><span class="functionIcon">transaction</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojo/store/api/Store">dojo.store.api.Store</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">dojo.store.api.Store.Transaction
	This represents the new current transaction.</div></div><div class="jsdoc-summary">Starts a new transaction.
	Note that a store user might not call transaction() prior to using put,
	delete, etc. in which case these operations effectively could be thought of
	as &quot;auto-commit&quot; style actions.</div></div></div></div>