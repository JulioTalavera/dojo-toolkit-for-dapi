<div class="jsdoc-permalink" style="display:none;">/api/1.7/dojox/editor/plugins/AutoSave</div><h1 class="jsdoc-title constructorIcon36">dojox.editor.plugins.AutoSave <span style="font-size:11px;color:#999;">(version 1.7)</span></h1><div class="jsdoc-prototype">Object &raquo; <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a> &raquo; <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/Save">dojox.editor.plugins.Save</a> &raquo; dojox.editor.plugins.AutoSave</div><div class="jsdoc-require">dojo.require("dojox.editor.plugins.AutoSave");</div><div class="jsdoc-prototype">Defined in dojox/editor/plugins/AutoSave.js</div><div class="jsdoc-function-information"><h3>Usage:</h3><div class="function-signature"><span class="keyword">var</span> foo = new dojox.editor.plugins.AutoSave(<span class="jsdoc-comment-type">/* Object? */</span> args);</div></div><div class="jsdoc-full-summary"><p>This plugin provides the auto save capability to the editor. The
plugin saves the content of the editor in interval. When
the save action is performed, the document in the editor frame
will be posted to the URL provided, or none, if none provided.</p>
</div><div class="jsdoc-children"><div class="jsdoc-field-list"><h2 class="jsdoc-summary-heading">Method Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon private inherited even"><a class="inline-link" href="#_clearSaveInterval">_clearSaveInterval</a><span class="parameters">()</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_getAttrNames">_getAttrNames</a><span class="parameters">(name)</span> <span>Helper function for get() and set().
	Caches attribute name values so we don't do the string ops every time.</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_getIntervalAttr">_getIntervalAttr</a><span class="parameters">()</span> <span>Get the interval value</span></li><li class="functionIcon private  odd"><a class="inline-link" href="#_initButton">_initButton</a><span class="parameters">()</span> <span>Over-ride for creation of the save button.</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_save">_save</a><span class="parameters">()</span> <span>Function to trigger saving of the editor document</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_set">_set</a><span class="parameters">(name, value)</span> <span>Helper function to set new value for specified attribute</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_setDisabledAttr">_setDisabledAttr</a><span class="parameters">(disabled)</span> <span>Function to set the plugin state and call updateState to make sure the
	button is updated appropriately.</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_setIntervalAttr">_setIntervalAttr</a><span class="parameters">(val)</span> <span>Set the interval value.
	Delay the boundary check to _isValidValue of the dialog class</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_setSaveInterval">_setSaveInterval</a><span class="parameters">(interval)</span> <span>Function to trigger saving of the editor document</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_showAutSaveSettingDialog">_showAutSaveSettingDialog</a><span class="parameters">()</span> <span>Show the setting dialog</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#connect">connect</a><span class="parameters">(o, f, tf)</span> <span>Make a connect.connect() that is automatically disconnected when this plugin is destroyed.
	Similar to `dijit._Widget.connect`.</span></li><li class="functionIcon public  odd"><a class="inline-link" href="#constructor">constructor</a><span class="parameters">(args)</span><span class="jsdoc-returns"> returns dojox.editor.plugins.AutoSave</span> <span>A reference to the constructor function for this object.</span></li><li class="functionIcon public  even"><a class="inline-link" href="#destroy">destroy</a><span class="parameters">()</span> <span>Cleanup of our plugin.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#get">get</a><span class="parameters">(name)</span> <span>Get a property from a plugin.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#getLabel">getLabel</a><span class="parameters">(key)</span><span class="jsdoc-returns"> returns String</span> <span>Returns the label to use for the button</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#save">save</a><span class="parameters">(content)</span> <span>User over-ridable save function for the editor content.
	Please note that the service URL provided should do content
	filtering of the posted content to avoid XSS injection via
	the data from the editor.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#set">set</a><span class="parameters">(name, value)</span> <span>Set a property on a plugin</span></li><li class="functionIcon public  odd"><a class="inline-link" href="#setEditor">setEditor</a><span class="parameters">(editor)</span> <span>Over-ride for the setting of the editor. No toggle button for
	this plugin. And start to save the content of the editor in
	interval</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#setToolbar">setToolbar</a><span class="parameters">(toolbar)</span> <span>Tell the plugin to add it's controller widget (often a button)
	to the toolbar.  Does nothing if there is no controller widget.</span></li><li class="functionIcon public  odd"><a class="inline-link" href="#updateState">updateState</a><span class="parameters">()</span> <span>Over-ride for button state control for disabled to work.</span></li></ul></div><h2 class="jsdoc-summary-heading">Event Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon private inherited even"><a class="inline-link" href="#_onDialogOk">_onDialogOk</a><span class="parameters">()</span> <span>If the interval is set (larger than 0), enable auto-save.</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_onStopClick">_onStopClick</a><span class="parameters">()</span> <span>Stop auto-save</span></li><li class="functionIcon public  even"><a class="inline-link" href="#onError">onError</a><span class="parameters">(error, ioargs)</span> <span>User over-ridable save success function for editor content.
	resp:
	The response from the server, if any, in text format.</span></li><li class="functionIcon public  odd"><a class="inline-link" href="#onSuccess">onSuccess</a><span class="parameters">(resp, ioargs)</span> <span>User over-ridable save success function for editor content.</span></li></ul></div></div></div><div class="jsdoc-children"><div class="jsdoc-fields"><h2>Methods</h2><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_clearSaveInterval"></a><span class="functionIcon">_clearSaveInterval</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/AutoSave">dojox.editor.plugins.AutoSave</a></div></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_getAttrNames"></a><span class="functionIcon">_getAttrNames</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a></div><div class="jsdoc-summary">Helper function for get() and set().
	Caches attribute name values so we don't do the string ops every time.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">name</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_getIntervalAttr"></a><span class="functionIcon">_getIntervalAttr</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/AutoSave">dojox.editor.plugins.AutoSave</a></div><div class="jsdoc-summary">Get the interval value</div></div><div class="jsdoc-field private  odd"><div class="jsdoc-title"><a name="_initButton"></a><span class="functionIcon">_initButton</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a>, <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/Save">dojox.editor.plugins.Save</a></div><div class="jsdoc-summary">Over-ride for creation of the save button.</div></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_save"></a><span class="functionIcon">_save</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/Save">dojox.editor.plugins.Save</a></div><div class="jsdoc-summary">Function to trigger saving of the editor document</div></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_set"></a><span class="functionIcon">_set</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a></div><div class="jsdoc-summary">Helper function to set new value for specified attribute</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">name</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">value</td><td class="jsdoc-param-type">anything</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_setDisabledAttr"></a><span class="functionIcon">_setDisabledAttr</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a></div><div class="jsdoc-summary">Function to set the plugin state and call updateState to make sure the
	button is updated appropriately.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">disabled</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_setIntervalAttr"></a><span class="functionIcon">_setIntervalAttr</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/AutoSave">dojox.editor.plugins.AutoSave</a></div><div class="jsdoc-summary">Set the interval value.
	Delay the boundary check to _isValidValue of the dialog class</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">val</td><td class="jsdoc-param-type">The</td><td class="jsdoc-param-description">interval value.</td></tr></table></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_setSaveInterval"></a><span class="functionIcon">_setSaveInterval</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/AutoSave">dojox.editor.plugins.AutoSave</a></div><div class="jsdoc-summary">Function to trigger saving of the editor document</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">interval</td><td class="jsdoc-param-type">Number</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_showAutSaveSettingDialog"></a><span class="functionIcon">_showAutSaveSettingDialog</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/AutoSave">dojox.editor.plugins.AutoSave</a></div><div class="jsdoc-summary">Show the setting dialog</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="connect"></a><span class="functionIcon">connect</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a></div><div class="jsdoc-summary">Make a connect.connect() that is automatically disconnected when this plugin is destroyed.
	Similar to `dijit._Widget.connect`.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">o</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">f</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">tf</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public  odd"><div class="jsdoc-title"><a name="constructor"></a><span class="functionIcon">constructor</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.7/Object">Object</a>, <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a>, <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/Save">dojox.editor.plugins.Save</a></div><div class="jsdoc-return-type">Returns <strong>dojox.editor.plugins.AutoSave</strong></div><div class="jsdoc-summary">A reference to the constructor function for this object.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">args</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description"><div><em>Optional.</em></div></td></tr></table></div><div class="jsdoc-field public  even"><div class="jsdoc-title"><a name="destroy"></a><span class="functionIcon">destroy</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a></div><div class="jsdoc-summary">Cleanup of our plugin.</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="get"></a><span class="functionIcon">get</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a></div><div class="jsdoc-summary"><p>Get a named property from a plugin. The property may
potentially be retrieved via a getter method. If no getter is defined, this
just retrieves the object's property.
For example, if the plugin has a properties "foo"
and "bar" and a method named "<em>getFooAttr", calling:
    plugin.get("foo");
would be equivalent to writing:
    plugin.</em>getFooAttr();
and:
    plugin.get("bar");
would be equivalent to writing:
    plugin.bar;</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">name</td><td class="jsdoc-param-type">The</td><td class="jsdoc-param-description">property to get.</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="getLabel"></a><span class="functionIcon">getLabel</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a></div><div class="jsdoc-return-type">Returns <strong>String</strong></div><div class="jsdoc-summary">Returns the label to use for the button</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">key</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="save"></a><span class="functionIcon">save</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/Save">dojox.editor.plugins.Save</a></div><div class="jsdoc-summary">User over-ridable save function for the editor content.
	Please note that the service URL provided should do content
	filtering of the posted content to avoid XSS injection via
	the data from the editor.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">content</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="set"></a><span class="functionIcon">set</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a></div><div class="jsdoc-summary"><p>Sets named properties on a plugin which may potentially be handled by a
setter in the plugin.
For example, if the plugin has a properties "foo"
and "bar" and a method named "<em>setFooAttr", calling:
    plugin.set("foo", "Howdy!");
would be equivalent to writing:
    plugin.</em>setFooAttr("Howdy!");
and:
    plugin.set("bar", 3);
would be equivalent to writing:
    plugin.bar = 3;</p>

<p>set() may also be called with a hash of name/value pairs, ex:
    plugin.set({
        foo: "Howdy",
        bar: 3
    })
This is equivalent to calling set(foo, "Howdy") and set(bar, 3)</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">name</td><td class="jsdoc-param-type">attribute</td><td class="jsdoc-param-description">The property to set.</td></tr><tr><td class="jsdoc-param-name">value</td><td class="jsdoc-param-type">anything</td><td class="jsdoc-param-description">The value to set in the property.</td></tr></table></div><div class="jsdoc-field public  odd"><div class="jsdoc-title"><a name="setEditor"></a><span class="functionIcon">setEditor</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a>, <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/Save">dojox.editor.plugins.Save</a></div><div class="jsdoc-summary">Over-ride for the setting of the editor. No toggle button for
	this plugin. And start to save the content of the editor in
	interval</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">editor</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">The editor to configure for this plugin to use.</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="setToolbar"></a><span class="functionIcon">setToolbar</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a></div><div class="jsdoc-summary">Tell the plugin to add it's controller widget (often a button)
	to the toolbar.  Does nothing if there is no controller widget.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">toolbar</td><td class="jsdoc-param-type">dijit.Toolbar</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public  odd"><div class="jsdoc-title"><a name="updateState"></a><span class="functionIcon">updateState</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.7/dijit/_editor/_Plugin">dijit._editor._Plugin</a></div><div class="jsdoc-summary"><p>This is called on meaningful events in the editor, such as change of selection
or caret position (but not simple typing of alphanumeric keys).   It gives the
plugin a chance to update the CSS of its button.</p>

<p>For example, the "bold" plugin will highlight/unhighlight the bold button depending on whether the
characters next to the caret are bold or not.</p>

<p>Only makes sense when <code>useDefaultCommand</code> is true, as it calls Editor.queryCommandEnabled(<code>command</code>).</p>
</div></div><h2>Events</h2><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_onDialogOk"></a><span class="functionIcon">_onDialogOk</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/AutoSave">dojox.editor.plugins.AutoSave</a></div><div class="jsdoc-summary">If the interval is set (larger than 0), enable auto-save.</div></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_onStopClick"></a><span class="functionIcon">_onStopClick</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/AutoSave">dojox.editor.plugins.AutoSave</a></div><div class="jsdoc-summary">Stop auto-save</div></div><div class="jsdoc-field public  even"><div class="jsdoc-title"><a name="onError"></a><span class="functionIcon">onError</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/Save">dojox.editor.plugins.Save</a></div><div class="jsdoc-summary">User over-ridable save success function for editor content.
	resp:
	The response from the server, if any, in text format.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">error</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">ioargs</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public  odd"><div class="jsdoc-title"><a name="onSuccess"></a><span class="functionIcon">onSuccess</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.7/dojox/editor/plugins/Save">dojox.editor.plugins.Save</a></div><div class="jsdoc-summary">User over-ridable save success function for editor content.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">resp</td><td class="jsdoc-param-type">The</td><td class="jsdoc-param-description">response from the server, if any, in text format.</td></tr><tr><td class="jsdoc-param-name">ioargs</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div></div></div>