<div class="jsdoc-permalink" style="display:none;">/api/1.7/dojox/geo/openlayers/Map</div><h1 class="jsdoc-title constructorIcon36">dojox.geo.openlayers.Map <span style="font-size:11px;color:#999;">(version 1.7)</span></h1><div class="jsdoc-prototype">Object &raquo; dojox.geo.openlayers.Map</div><div class="jsdoc-require">dojo.require("dojox.geo.openlayers.Map");</div><div class="jsdoc-prototype">Defined in dojox/geo/openlayers/Map.js</div><div class="jsdoc-function-information"><h3>Usage:</h3><div class="function-signature"><span class="keyword">var</span> foo = new dojox.geo.openlayers.Map(<span class="jsdoc-comment-type">/*  */</span> div, <span class="jsdoc-comment-type">/*  */</span> options);</div></div><div class="jsdoc-full-summary"><p>The <code>dojox.geo.openlayers.Map</code> object allows to view maps from various map providers.
It encapsulates  an <code>OpenLayers.Map</code> object on which most operations are delegated.
GFX layers can be added to display GFX georeferenced shapes as well as Dojo widgets.
Parameters can be passed as argument at construction time to define the base layer
type and the base layer parameters such as url or options depending on the type
specified. These parameters can be any of :
<br />
<em>baseLayerType</em>: type of the base layer. Can be any of</p>

<ul>
<li><code>dojox.geo.openlayers.BaseLayerType.OSM</code>: Open Street Map base layer</li>
<li><code>dojox.geo.openlayers.BaseLayerType.WMS</code>: Web Map Service layer</li>
<li><code>dojox.geo.openlayers.BaseLayerType.GOOGLE</code>: Google layer</li>
<li><code>dojox.geo.openlayers.BaseLayerType.VIRTUAL_EARTH</code>: Virtual Earth layer</li>
<li><code>dojox.geo.openlayers.BaseLayerType.BING</code>: Bing layer</li>
<li><code>dojox.geo.openlayers.BaseLayerType.YAHOO</code>: Yahoo layer</li>
<li><code>dojox.geo.openlayers.BaseLayerType.ARCGIS</code>: ESRI ArgGIS layer</li>
</ul>

<p>Note that access to commercial server such as Google, Virtual Earth or Yahoo may need specific licencing.</p>

<p>The parameters value also include :</p>

<ul>
<li><code>baseLayerName</code>: The name of the base layer.</li>
<li><code>baseLayerUrl</code>: Some layer may need an url such as Web Map Server</li>
<li><code>baseLayerOptions</code>: Addtional specific options passed to OpensLayers layer,
such as The list of layer to display, for Web Map Server layer.</li>
</ul>
</div><div class="jsdoc-examples"><h2>Examples:</h2><div class="jsdoc-example"><h3>Example 1</h3>
<pre class="brush: js;" lang="javascript">
	var map = new dojox.geo.openlayers.widget.Map(div, {
		baseLayerType : dojox.geo.openlayers.BaseLayerType.OSM,
		baseLayerName : 'Open Street Map Layer'
	});
</pre></div></div><div class="jsdoc-children"><div class="jsdoc-field-list"><h2 class="jsdoc-summary-heading">Property Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="objectIcon public inherited even"><a class="inline-link" href="#olMap">olMap</a></li></ul></div><h2 class="jsdoc-summary-heading">Method Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon private inherited odd"><a class="inline-link" href="#_createBaseLayer">_createBaseLayer</a><span class="parameters">(params)</span> <span>Creates the base layer.</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_getLayer">_getLayer</a><span class="parameters">(ol)</span> <span>Retrieve the dojox.geo.openlayer.Layer from the OpenLayer.Layer</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#addLayer">addLayer</a><span class="parameters">(layer)</span> <span>Add the specified layer to the map.</span></li><li class="functionIcon public  even"><a class="inline-link" href="#constructor">constructor</a><span class="parameters">(div, options)</span><span class="jsdoc-returns"> returns dojox.geo.openlayers.Map</span> <span>Constructs a new Map object</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#fitTo">fitTo</a><span class="parameters">(o)</span> <span>Fits the map on a point,or an area</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#getBaseLayerType">getBaseLayerType</a><span class="parameters">()</span> <span>Retrieves the base layer type.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#getLayer">getLayer</a><span class="parameters">(property, value)</span> <span>Returns the layer whose property matches the value.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#getLayerCount">getLayerCount</a><span class="parameters">()</span> <span>Returns the count of layers of this map.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#getOLMap">getOLMap</a><span class="parameters">()</span> <span>gets the underlying OpenLayers map object.
	returns : OpenLayers.Map
	The underlying OpenLayers map object.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#getScale">getScale</a><span class="parameters">(geodesic)</span> <span>Returns the current scale</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#initialFit">initialFit</a><span class="parameters">(params)</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#layerIndex">layerIndex</a><span class="parameters">(layer, index)</span> <span>Set or retrieve the layer index.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#removeLayer">removeLayer</a><span class="parameters">(layer)</span> <span>Remove the specified layer from the map.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#setBaseLayerType">setBaseLayerType</a><span class="parameters">(type)</span> <span>Set the base layer type, replacing the existing base layer</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#transform">transform</a><span class="parameters">(p, from, to)</span> <span>Transforms the point passed as argument, expressed in the &lt;em&gt;from&lt;/em&gt;
	coordinate system to the map coordinate system.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#transformXY">transformXY</a><span class="parameters">(x, y, from, to)</span> <span>The projection in which the point is expressed.</span></li></ul></div><h2 class="jsdoc-summary-heading">Attached Objects <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><div class="jsdoc-field"><div class="jsdoc-title"><span class="object"><a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map/olMap">dojox.geo.openlayers.Map.olMap</a></span></div></div></div></div></div><div class="jsdoc-children"><div class="jsdoc-fields"><h2>Properties</h2><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="olMap"></a><span class="objectIcon">olMap</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div></div><h2>Methods</h2><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_createBaseLayer"></a><span class="functionIcon">_createBaseLayer</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-summary">Creates the base layer.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">params</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_getLayer"></a><span class="functionIcon">_getLayer</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-summary">Retrieve the dojox.geo.openlayer.Layer from the OpenLayer.Layer</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">ol</td><td class="jsdoc-param-type">OpenLayer.Layer</td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="addLayer"></a><span class="functionIcon">addLayer</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-summary">Add the specified layer to the map.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">layer</td><td class="jsdoc-param-type">dojox.geo.openlayers.Layer</td><td class="jsdoc-param-description">dojox.geo.openlayer.Layer The layer to add to the map.</td></tr></table></div><div class="jsdoc-field public  even"><div class="jsdoc-title"><a name="constructor"></a><span class="functionIcon">constructor</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.7/Object">Object</a></div><div class="jsdoc-return-type">Returns <strong>dojox.geo.openlayers.Map</strong></div><div class="jsdoc-summary">Constructs a new Map object</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">div</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">options</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="fitTo"></a><span class="functionIcon">fitTo</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-summary"><p>Fits the map on the point or extent specified as parameter.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">o</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">Object with key values fit parameters or a JSON string.</td></tr></table><div class="jsdoc-examples"><div class="jsdoc-example"><div><strong>Example 1</strong></div>
Examples of arguments passed to the fitTo function :
<pre class="brush: js;" lang="javascript">
	null
The map is fit on full extent</pre>

<pre class="brush: js;" lang="javascript">
	{
	bounds : [ulx, uly, lrx, lry]
	}
The map is fit on the specified bounds expressed as decimal degrees latitude and longitude.</pre>
The bounds are defined with their upper left and lower right corners coordinates.

<pre class="brush: js;" lang="javascript">
	{
	position : [longitude, latitude],
	extent : degrees
	}
The map is fit on the specified position showing the extent &lt;extent&gt; around</pre>
the specified center position.</div></div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="getBaseLayerType"></a><span class="functionIcon">getBaseLayerType</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">dojox.geo.openlayers.BaseLayerType
	The current base layer type.</div></div><div class="jsdoc-summary">Retrieves the base layer type.</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="getLayer"></a><span class="functionIcon">getLayer</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">dojox.geo.openlayer.Layer | Array
	The layer(s) matching the property's value. Since multiple layers
	match the property's value the return value is an array.</div></div><div class="jsdoc-summary">Returns the layer whose property matches the value.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">property</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description">The property to check</td></tr><tr><td class="jsdoc-param-name">value</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">The value to match</td></tr></table><div class="jsdoc-examples"><div class="jsdoc-example"><div><strong>Example 1</strong></div>
var layers = map.getLayer("name", "Layer Name");</div></div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="getLayerCount"></a><span class="functionIcon">getLayerCount</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">int
	The number of layers of this map.</div></div><div class="jsdoc-summary">Returns the count of layers of this map.</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="getOLMap"></a><span class="functionIcon">getOLMap</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-summary">gets the underlying OpenLayers map object.
	returns : OpenLayers.Map
	The underlying OpenLayers map object.</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="getScale"></a><span class="functionIcon">getScale</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">Number
	The current scale.</div></div><div class="jsdoc-summary">Returns the current scale</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">geodesic</td><td class="jsdoc-param-type">Boolean</td><td class="jsdoc-param-description">Tell if geodesic calculation should be performed. If set to
	true, the scale will be calculated based on the horizontal size of the
	pixel in the center of the map viewport.</td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="initialFit"></a><span class="functionIcon">initialFit</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">params</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="layerIndex"></a><span class="functionIcon">layerIndex</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">int
	the index of the layer.</div></div><div class="jsdoc-summary"><p>Set or get the layer index, that is the z-order of the layer.
if the index parameter is provided, the layer index is set to
this value. If the index parameter is not provided, the index of
the layer is returned.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">layer</td><td class="jsdoc-param-type">dojox.geo.openlayers.Layer</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">index</td><td class="jsdoc-param-type">undefined</td><td class="jsdoc-param-description">| int
	index of the layer</td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="removeLayer"></a><span class="functionIcon">removeLayer</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-summary">Remove the specified layer from the map.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">layer</td><td class="jsdoc-param-type">dojox.geo.openlayers.Layer</td><td class="jsdoc-param-description">The layer to remove from the map.</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="setBaseLayerType"></a><span class="functionIcon">setBaseLayerType</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-return-type"><div class="jsdoc-return-description">OpenLayers.Layer
	The newly created layer.</div></div><div class="jsdoc-summary">Set the base layer type, replacing the existing base layer</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">type</td><td class="jsdoc-param-type">dojox.geo.openlayers.Map.BaseLayerType</td><td class="jsdoc-param-description">dojox.geo.openlayers.BaseLayerType base layer type</td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="transform"></a><span class="functionIcon">transform</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-summary"><p>Transforms the point passed as argument without modifying it. The point is supposed to be expressed
in the <em>from</em> coordinate system and is transformed to the map coordinate system.
p : Object {x, y}
The point to transform</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">p</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">from</td><td class="jsdoc-param-type">OpenLayers.Projection</td><td class="jsdoc-param-description">The projection in which the point is expressed.</td></tr><tr><td class="jsdoc-param-name">to</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="transformXY"></a><span class="functionIcon">transformXY</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/geo/openlayers/Map">dojox.geo.openlayers.Map</a></div><div class="jsdoc-summary"><p>Transforms the coordinates passed as argument. The coordinate are supposed to be expressed
in the <em>from</em> coordinate system and are transformed to the map coordinate system.
x : Number
The longitude coordinate to transform.
y : Number
The latitude coordinate to transform.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">x</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">y</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">from</td><td class="jsdoc-param-type">OpenLayers.Projection</td><td class="jsdoc-param-description">The projection in which the point is expressed.</td></tr><tr><td class="jsdoc-param-name">to</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div></div></div>