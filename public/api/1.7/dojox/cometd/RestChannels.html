<div class="jsdoc-permalink" style="display:none;">/api/1.7/dojox/cometd/RestChannels</div><h1 class="jsdoc-title constructorIcon36">dojox.cometd.RestChannels <span style="font-size:11px;color:#999;">(version 1.7)</span></h1><div class="jsdoc-prototype">Object &raquo; dojox.cometd.RestChannels</div><div class="jsdoc-require">dojo.require("dojox.cometd.RestChannels");</div><div class="jsdoc-prototype">Defined in dojox/cometd/RestChannels.js</div><div class="jsdoc-function-information"><h3>Usage:</h3><div class="function-signature"><span class="keyword">var</span> foo = new dojox.cometd.RestChannels(<span class="jsdoc-comment-type">/* Keyword */</span> options);</div></div><div class="jsdoc-full-summary"><p>Initiates the REST Channels protocol</p>
</div><div class="jsdoc-children"><div class="jsdoc-field-list"><h2 class="jsdoc-summary-heading">Method Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon private inherited even"><a class="inline-link" href="#_processMessage">_processMessage</a><span class="parameters">(message)</span><span class="jsdoc-returns"> returns indicate an error</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_send">_send</a><span class="parameters">(method, args, data)</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#absoluteUrl">absoluteUrl</a><span class="parameters">(baseUrl, relativeUrl)</span></li><li class="functionIcon public  odd"><a class="inline-link" href="#constructor">constructor</a><span class="parameters">(options)</span><span class="jsdoc-returns"> returns dojox.cometd.RestChannels</span> <span>Initiates the REST Channels protocol</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#disconnect">disconnect</a><span class="parameters">()</span> <span>disconnect from the server</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#disconnected">disconnected</a><span class="parameters">()</span> <span>called when our channel gets disconnected</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#get">get</a><span class="parameters">(channel, args)</span> <span>GET the initial value of the resource and subscribe to it
	See subscribe for parameter values</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#open">open</a><span class="parameters">()</span><span class="jsdoc-returns"> returns this can be called after dojo is unloaded, just do nothing in that case</span> <span>Startup the transport (connect to the &quot;channels&quot; resource to receive updates from the server).</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#publish">publish</a><span class="parameters">(channel, data)</span> <span>Publish an event.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#receive">receive</a><span class="parameters">(message)</span> <span>Called when a message is received from the server</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#subscribe">subscribe</a><span class="parameters">(channel, args)</span><span class="jsdoc-returns"> returns don't process the response, the response will be received in the main channels response</span> <span>Subscribes to a channel/uri, and returns a dojo.Deferred object for the response from
	the subscription request</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#unsubscribe">unsubscribe</a><span class="parameters">(channel, args)</span> <span>unsubscribes from the resource
	See subscribe for parameter values</span></li></ul></div><h2 class="jsdoc-summary-heading">Event Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon public inherited even"><a class="inline-link" href="#onprogress">onprogress</a><span class="parameters">(xhr, data, contentType)</span></li></ul></div></div></div><div class="jsdoc-children"><div class="jsdoc-fields"><h2>Methods</h2><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_processMessage"></a><span class="functionIcon">_processMessage</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/cometd/RestChannels">dojox.cometd.RestChannels</a></div><div class="jsdoc-return-type">Returns <strong>indicate an error</strong></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">message</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_send"></a><span class="functionIcon">_send</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/cometd/RestChannels">dojox.cometd.RestChannels</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">method</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">args</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">data</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="absoluteUrl"></a><span class="functionIcon">absoluteUrl</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/cometd/RestChannels">dojox.cometd.RestChannels</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">baseUrl</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">relativeUrl</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public  odd"><div class="jsdoc-title"><a name="constructor"></a><span class="functionIcon">constructor</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.7/Object">Object</a></div><div class="jsdoc-return-type">Returns <strong>dojox.cometd.RestChannels</strong></div><div class="jsdoc-summary">Initiates the REST Channels protocol</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">options</td><td class="jsdoc-param-type">Keyword</td><td class="jsdoc-param-description">arguments:
	The *autoSubscribeRoot* parameter:
	When this is set, all REST service requests that have this
	prefix will be auto-subscribed. The default is '/' (all REST requests).
	The *url* parameter:
	This is the url to connect to for server-sent messages. The default
	is &quot;/channels&quot;.
	The *autoReconnectTime* parameter:
	This is amount time to wait to reconnect with a connection is broken
	The *reloadDataOnReconnect* parameter:
	This indicates whether RestChannels should re-download data when a connection
	is restored (value of true), or if it should re-subscribe with retroactive subscriptions
	(Subscribe-Since header) using HEAD requests (value of false). The
	default is true.</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="disconnect"></a><span class="functionIcon">disconnect</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/cometd/RestChannels">dojox.cometd.RestChannels</a></div><div class="jsdoc-summary">disconnect from the server</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="disconnected"></a><span class="functionIcon">disconnected</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/cometd/RestChannels">dojox.cometd.RestChannels</a></div><div class="jsdoc-summary">called when our channel gets disconnected</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="get"></a><span class="functionIcon">get</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/cometd/RestChannels">dojox.cometd.RestChannels</a></div><div class="jsdoc-summary">GET the initial value of the resource and subscribe to it
	See subscribe for parameter values</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">channel</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">args</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description"><div><em>Optional.</em></div><table class="jsdoc-parameters" style="margin-left:0;margin-right:0;margin-bottom:0;"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></table></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="open"></a><span class="functionIcon">open</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/cometd/RestChannels">dojox.cometd.RestChannels</a></div><div class="jsdoc-return-type">Returns <strong>this can be called after dojo is unloaded, just do nothing in that case</strong></div><div class="jsdoc-summary"><p>Note that if there is no connection open, this is automatically called when you do a subscription,
it is often not necessary to call this</p>
</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="publish"></a><span class="functionIcon">publish</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/cometd/RestChannels">dojox.cometd.RestChannels</a></div><div class="jsdoc-summary"><p>This does a simple POST operation to the provided URL,
POST is the semantic equivalent of publishing a message within REST/Channels</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">channel</td><td class="jsdoc-param-type">Channel/resource</td><td class="jsdoc-param-description">path to publish to</td></tr><tr><td class="jsdoc-param-name">data</td><td class="jsdoc-param-type">data</td><td class="jsdoc-param-description">to publish</td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="receive"></a><span class="functionIcon">receive</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/cometd/RestChannels">dojox.cometd.RestChannels</a></div><div class="jsdoc-summary">Called when a message is received from the server</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">message</td><td class="jsdoc-param-type">A</td><td class="jsdoc-param-description">cometd/XHR message</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="subscribe"></a><span class="functionIcon">subscribe</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/cometd/RestChannels">dojox.cometd.RestChannels</a></div><div class="jsdoc-return-type">Returns <strong>don't process the response, the response will be received in the main channels response</strong></div><div class="jsdoc-summary">Subscribes to a channel/uri, and returns a dojo.Deferred object for the response from
	the subscription request</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">channel</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description">the uri for the resource you want to monitor</td></tr><tr><td class="jsdoc-param-name">args</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description"><div><em>Optional.</em></div>See dojo.xhr
	
	headers:
	These are the headers to be applied to the channel subscription request
	
	callback:
	This will be called when a event occurs for the channel
	The callback will be called with a single argument:
		callback(message)
	where message is an object that follows the XHR API:
	status : Http status
	statusText : Http status text
	getAllResponseHeaders() : The response headers
	getResponseHeaders(headerName) : Retrieve a header by name
	responseText : The response body as text
	with the following additional Bayeux properties
	data : The response body as JSON
	channel : The channel/url of the response<table class="jsdoc-parameters" style="margin-left:0;margin-right:0;margin-bottom:0;"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></table></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="unsubscribe"></a><span class="functionIcon">unsubscribe</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/cometd/RestChannels">dojox.cometd.RestChannels</a></div><div class="jsdoc-summary">unsubscribes from the resource
	See subscribe for parameter values</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">channel</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">args</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description"><div><em>Optional.</em></div><table class="jsdoc-parameters" style="margin-left:0;margin-right:0;margin-bottom:0;"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></table></td></tr></table></div><h2>Events</h2><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="onprogress"></a><span class="functionIcon">onprogress</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/cometd/RestChannels">dojox.cometd.RestChannels</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">xhr</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">data</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">contentType</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div></div></div>