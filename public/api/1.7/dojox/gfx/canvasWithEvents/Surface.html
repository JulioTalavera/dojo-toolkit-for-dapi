<div class="jsdoc-permalink" style="display:none;">/api/1.7/dojox/gfx/canvasWithEvents/Surface</div><h1 class="jsdoc-title constructorIcon36">dojox.gfx.canvasWithEvents.Surface <span style="font-size:11px;color:#999;">(version 1.7)</span></h1><div class="jsdoc-prototype">Object &raquo; <a class="jsdoc-link" href="/api/1.7/canvas/Surface">canvas.Surface</a> &raquo; dojox.gfx.canvasWithEvents.Surface</div><div class="jsdoc-require">dojo.require("dojox.gfx.canvasWithEvents");</div><div class="jsdoc-prototype">Defined in dojox/gfx/canvasWithEvents.js</div><div class="jsdoc-function-information"><h3>Usage:</h3><div class="function-signature"><span class="keyword">var</span> foo = new dojox.gfx.canvasWithEvents.Surface();</div></div><div class="jsdoc-children"><div class="jsdoc-field-list"><h2 class="jsdoc-summary-heading">Property Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="objectIcon private inherited even"><a class="inline-link" href="#_eventsH">_eventsH</a></li></ul></div><h2 class="jsdoc-summary-heading">Method Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon private inherited odd"><a class="inline-link" href="#_fireTouchEvent">_fireTouchEvent</a><span class="parameters">(e)</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_initMirrorCanvas">_initMirrorCanvas</a><span class="parameters">()</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_invokeHandler">_invokeHandler</a><span class="parameters">(base, method, event)</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_setupEvents">_setupEvents</a><span class="parameters">(eventName)</span> <span>setup event listeners if not yet</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_whatsUnderEvent">_whatsUnderEvent</a><span class="parameters">(evt)</span> <span>returns the shape under the mouse event</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#connect">connect</a><span class="parameters">(name, object, method)</span> <span>connects a handler to an event on this surface
	name : String
	The event name</span></li><li class="functionIcon public  odd"><a class="inline-link" href="#constructor">constructor</a><span class="parameters">()</span><span class="jsdoc-returns"> returns dojox.gfx.canvasWithEvents.Surface</span> <span>A reference to the constructor function for this object.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#destroy">destroy</a><span class="parameters">()</span> <span>stops the move, deletes all references, so the object can be garbage-collected</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#getEventSource">getEventSource</a><span class="parameters">()</span> <span>returns the canvas DOM node for surface-level events</span></li></ul></div><h2 class="jsdoc-summary-heading">Event Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon private inherited even"><a class="inline-link" href="#_onclick">_onclick</a><span class="parameters">(e)</span> <span>triggers onclick
	this._pick.curr = an array of target for touch event, one target instance for mouse events</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_oncontextmenu">_oncontextmenu</a><span class="parameters">(e)</span> <span>triggers onclick
	this._pick.curr = an array of target for touch event, one target instance for mouse events</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_ondblclick">_ondblclick</a><span class="parameters">(e)</span> <span>triggers onclick
	this._pick.curr = an array of target for touch event, one target instance for mouse events</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_onkeydown">_onkeydown</a><span class="parameters">()</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_onkeyup">_onkeyup</a><span class="parameters">()</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_onmousedown">_onmousedown</a><span class="parameters">(e)</span> <span>triggers onmousedown</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_onmousemove">_onmousemove</a><span class="parameters">(e)</span> <span>triggers onmousemove, onmouseenter, onmouseleave
	this._pick.curr = an array of target for touch event, one target instance for mouse events</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_onmouseup">_onmouseup</a><span class="parameters">(e)</span> <span>triggers onmouseup
	this._pick.curr = an array of target for touch event, one target instance for mouse events</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_ontouchend">_ontouchend</a><span class="parameters">(e)</span> <span>triggers ontouchend
	this._pick.curr = an array of target for touch event, one target instance for mouse events</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_ontouchendImpl_">_ontouchendImpl_</a><span class="parameters">()</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_ontouchmove">_ontouchmove</a><span class="parameters">(e)</span> <span>triggers ontouchmove</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_ontouchmoveImpl_">_ontouchmoveImpl_</a><span class="parameters">()</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#_ontouchstart">_ontouchstart</a><span class="parameters">(e)</span> <span>triggers ontouchstart
	this._pick.curr = an array of target for touch event, one target instance for mouse events</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#_ontouchstartImpl_">_ontouchstartImpl_</a><span class="parameters">()</span></li></ul></div><h2 class="jsdoc-summary-heading">Attached Objects <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><div class="jsdoc-field"><div class="jsdoc-title"><span class="object"><a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface/_eventsH">dojox.gfx.canvasWithEvents.Surface._eventsH</a></span></div></div></div></div></div><div class="jsdoc-children"><div class="jsdoc-fields"><h2>Properties</h2><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_eventsH"></a><span class="objectIcon">_eventsH</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div></div><h2>Methods</h2><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_fireTouchEvent"></a><span class="functionIcon">_fireTouchEvent</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">e</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_initMirrorCanvas"></a><span class="functionIcon">_initMirrorCanvas</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_invokeHandler"></a><span class="functionIcon">_invokeHandler</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">base</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">method</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">event</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_setupEvents"></a><span class="functionIcon">_setupEvents</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">setup event listeners if not yet</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">eventName</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_whatsUnderEvent"></a><span class="functionIcon">_whatsUnderEvent</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">returns the shape under the mouse event</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">evt</td><td class="jsdoc-param-type">mouse</td><td class="jsdoc-param-description">event</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="connect"></a><span class="functionIcon">connect</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">connects a handler to an event on this surface
	name : String
	The event name</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">name</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">object</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">The object that method will receive as &quot;this&quot;.</td></tr><tr><td class="jsdoc-param-name">method</td><td class="jsdoc-param-type">Function|String</td><td class="jsdoc-param-description">Function A function reference, or name of a function in context.</td></tr></table></div><div class="jsdoc-field public  odd"><div class="jsdoc-title"><a name="constructor"></a><span class="functionIcon">constructor</span></div><div class="jsdoc-inheritance">Overrides <a class="jsdoc-link" href="/api/1.7/Object">Object</a></div><div class="jsdoc-return-type">Returns <strong>dojox.gfx.canvasWithEvents.Surface</strong></div><div class="jsdoc-summary">A reference to the constructor function for this object.</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="destroy"></a><span class="functionIcon">destroy</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">stops the move, deletes all references, so the object can be garbage-collected</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="getEventSource"></a><span class="functionIcon">getEventSource</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">returns the canvas DOM node for surface-level events</div></div><h2>Events</h2><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_onclick"></a><span class="functionIcon">_onclick</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">triggers onclick
	this._pick.curr = an array of target for touch event, one target instance for mouse events</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">e</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_oncontextmenu"></a><span class="functionIcon">_oncontextmenu</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">triggers onclick
	this._pick.curr = an array of target for touch event, one target instance for mouse events</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">e</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_ondblclick"></a><span class="functionIcon">_ondblclick</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">triggers onclick
	this._pick.curr = an array of target for touch event, one target instance for mouse events</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">e</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_onkeydown"></a><span class="functionIcon">_onkeydown</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_onkeyup"></a><span class="functionIcon">_onkeyup</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_onmousedown"></a><span class="functionIcon">_onmousedown</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">triggers onmousedown</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">e</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_onmousemove"></a><span class="functionIcon">_onmousemove</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">triggers onmousemove, onmouseenter, onmouseleave
	this._pick.curr = an array of target for touch event, one target instance for mouse events</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">e</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_onmouseup"></a><span class="functionIcon">_onmouseup</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">triggers onmouseup
	this._pick.curr = an array of target for touch event, one target instance for mouse events</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">e</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_ontouchend"></a><span class="functionIcon">_ontouchend</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">triggers ontouchend
	this._pick.curr = an array of target for touch event, one target instance for mouse events</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">e</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_ontouchendImpl_"></a><span class="functionIcon">_ontouchendImpl_</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_ontouchmove"></a><span class="functionIcon">_ontouchmove</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">triggers ontouchmove</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">e</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_ontouchmoveImpl_"></a><span class="functionIcon">_ontouchmoveImpl_</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="_ontouchstart"></a><span class="functionIcon">_ontouchstart</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div><div class="jsdoc-summary">triggers ontouchstart
	this._pick.curr = an array of target for touch event, one target instance for mouse events</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">e</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="_ontouchstartImpl_"></a><span class="functionIcon">_ontouchstartImpl_</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/gfx/canvasWithEvents/Surface">dojox.gfx.canvasWithEvents.Surface</a></div></div></div></div>