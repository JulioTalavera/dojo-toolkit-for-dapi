<div class="jsdoc-permalink" style="display:none;">/api/1.7/dojox/mvc</div><h1 class="jsdoc-title objectIcon36">dojox.mvc <span style="font-size:11px;color:#999;">(version 1.7)</span></h1><div class="jsdoc-prototype">Object &raquo; dojox.mvc</div><div class="jsdoc-children"><div class="jsdoc-field-list"><h2 class="jsdoc-summary-heading">Method Summary <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><ul><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.mvc.Generate">dojox.mvc.Generate</a><span class="parameters">()</span> <span>A container that generates a view based on the data model its bound to.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.mvc.Group">dojox.mvc.Group</a><span class="parameters">()</span> <span>A simple model-bound container widget with single-node binding to a data model.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.mvc.Output">dojox.mvc.Output</a><span class="parameters">(params, srcNodeRef)</span> <span>A simple widget that displays templated output, parts of which may
	be data-bound.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.mvc.Repeat">dojox.mvc.Repeat</a><span class="parameters">(params, srcNodeRef)</span> <span>Override and save template from body.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.mvc.StatefulModel">dojox.mvc.StatefulModel</a><span class="parameters">(args)</span> <span>The first-class native JavaScript data model based on dojo.Stateful
	that wraps any data structure(s) that may be relevant for a view,
	a view portion, a dijit or any custom view layer component.</span></li><li class="functionIcon private inherited odd"><a class="inline-link" href="#dojox.mvc._Container">dojox.mvc._Container</a><span class="parameters">()</span></li><li class="functionIcon private inherited even"><a class="inline-link" href="#dojox.mvc._DataBindingMixin">dojox.mvc._DataBindingMixin</a><span class="parameters">()</span> <span>Provides the ability for dijits or custom view components to become
	data binding aware.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.mvc.bind">dojox.mvc.bind</a><span class="parameters">(source, sourceProp, target, targetProp, func, bindOnlyIfUnequal)</span> <span>Bind the specified property of the target to the specified
	property of the source with the supplied transformation.</span></li><li class="functionIcon public inherited even"><a class="inline-link" href="#dojox.mvc.bindInputs">dojox.mvc.bindInputs</a><span class="parameters">(sourceBindArray, func)</span> <span>Bind the values at the sources specified in the first argument
	array such that a composing function in the second argument is
	called when any of the values changes.</span></li><li class="functionIcon public inherited odd"><a class="inline-link" href="#dojox.mvc.newStatefulModel">dojox.mvc.newStatefulModel</a><span class="parameters">(args)</span> <span>Factory method that instantiates a new data model that view
	components may bind to.</span></li></ul></div><h2 class="jsdoc-summary-heading">Attached Objects <span class="jsdoc-summary-toggle"></span></h2><div class="jsdoc-summary-list"><div class="jsdoc-field"><div class="jsdoc-title"><span class="constructor"><a class="jsdoc-link" href="/api/1.7/dojox/mvc/Generate">dojox.mvc.Generate</a></span></div></div><div class="jsdoc-field"><div class="jsdoc-title"><span class="object"><a class="jsdoc-link" href="/api/1.7/dojox/mvc/Generate/_defaultWidgetMapping">dojox.mvc.Generate._defaultWidgetMapping</a></span></div></div><div class="jsdoc-field"><div class="jsdoc-title"><span class="object"><a class="jsdoc-link" href="/api/1.7/dojox/mvc/Generate/_defaultClassMapping">dojox.mvc.Generate._defaultClassMapping</a></span></div></div><div class="jsdoc-field"><div class="jsdoc-title"><span class="object"><a class="jsdoc-link" href="/api/1.7/dojox/mvc/Generate/_defaultIdNameMapping">dojox.mvc.Generate._defaultIdNameMapping</a></span></div></div><div class="jsdoc-field"><div class="jsdoc-title"><span class="constructor"><a class="jsdoc-link" href="/api/1.7/dojox/mvc/_Container">dojox.mvc._Container</a></span></div></div><div class="jsdoc-field"><div class="jsdoc-title"><span class="constructor"><a class="jsdoc-link" href="/api/1.7/dojox/mvc/Group">dojox.mvc.Group</a></span></div></div><div class="jsdoc-field"><div class="jsdoc-title"><span class="constructor"><a class="jsdoc-link" href="/api/1.7/dojox/mvc/Output">dojox.mvc.Output</a></span></div></div><div class="jsdoc-field"><div class="jsdoc-title"><span class="constructor"><a class="jsdoc-link" href="/api/1.7/dojox/mvc/Repeat">dojox.mvc.Repeat</a></span></div></div><div class="jsdoc-field"><div class="jsdoc-title"><span class="constructor"><a class="jsdoc-link" href="/api/1.7/dojox/mvc/StatefulModel">dojox.mvc.StatefulModel</a></span></div></div><div class="jsdoc-field"><div class="jsdoc-title"><span class="constructor"><a class="jsdoc-link" href="/api/1.7/dojox/mvc/_DataBindingMixin">dojox.mvc._DataBindingMixin</a></span></div></div></div></div></div><div class="jsdoc-children"><div class="jsdoc-fields"><h2>Methods</h2><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.mvc.Generate"></a><span class="functionIcon">dojox.mvc.Generate</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/mvc">dojox.mvc</a></div><div class="jsdoc-summary"><p>A generate introspects its data binding and creates a view contained in
it that allows displaying the bound data. Child dijits or custom view
components inside it inherit their parent data binding context from it.</p>
</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.mvc.Group"></a><span class="functionIcon">dojox.mvc.Group</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/mvc">dojox.mvc</a></div><div class="jsdoc-summary"><p>A group is usually bound to an intermediate dojo.Stateful node in the data model.
Child dijits or custom view components inside a group inherit their parent
data binding context from it.</p>
</div></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.mvc.Output"></a><span class="functionIcon">dojox.mvc.Output</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/mvc">dojox.mvc</a></div><div class="jsdoc-summary"><p>Simple output example:</p>

<pre><code>&lt;span dojoType="dojox.mvc.Output" ref="model.balance"&gt;
    Your balance is: ${this.value}
&lt;/span&gt;
</code></pre>

<p>The output widget being data-bound, if the balance changes in the
dojox.mvc.StatefulModel, the content within the <span> will be
updated accordingly.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">params</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">srcNodeRef</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.mvc.Repeat"></a><span class="functionIcon">dojox.mvc.Repeat</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/mvc">dojox.mvc</a></div><div class="jsdoc-summary"><p>A repeat is bound to an intermediate dojo.Stateful node corresponding
to an array in the data model. Child dijits or custom view components
inside it inherit their parent data binding context from it.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">params</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr><tr><td class="jsdoc-param-name">srcNodeRef</td><td class="jsdoc-param-type"></td><td class="jsdoc-param-description"></td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.mvc.StatefulModel"></a><span class="functionIcon">dojox.mvc.StatefulModel</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/mvc">dojox.mvc</a></div><div class="jsdoc-summary"><p>A data model is effectively instantiated with a plain JavaScript
object which specifies the initial data structure for the model.</p>

<pre><code>var struct = {
    order   : "abc123",
    shipto  : {
        address : "123 Example St, New York, NY",
        phone   : "212-000-0000"
    },
    items : [
        { part : "x12345", num : 1 },
        { part : "n09876", num : 3 }
    ]
};

var model = dojox.mvc.newStatefulModel({ data : struct });
</code></pre>

<p>The simple example above shows an inline plain JavaScript object
illustrating the data structure to prime the model with, however
the underlying data may be made available by other means, such as
from the results of a dojo.store or dojo.data query.</p>

<p>To deal with stores providing immediate values or Promises, a
factory method for model instantiation is provided. This method
will either return an immediate model or a model Promise depending
on the nature of the store.</p>

<pre><code>var model = dojox.mvc.newStatefulModel({ store: someStore });
</code></pre>

<p>The created data model has the following properties:</p>

<ul>
<li>It enables dijits or custom components in the view to "bind" to
data within the model. A bind creates a bi-directional update
mechanism between the bound view and the underlying data:</li>
<li>The data model is "live" data i.e. it maintains any updates
driven by the view on the underlying data.</li>
<li><p>The data model issues updates to portions of the view if the
data they bind to is updated in the model. For example, if two
dijits are bound to the same part of a data model, updating the
value of one in the view will cause the data model to issue an
update to the other containing the new value.</p></li>
<li><p>The data model internally creates a tree of dojo.Stateful
objects that matches the input, which is effectively a plain
JavaScript object i.e. "pure data". This tree allows dijits or
other view components to bind to any node within the data model.
Typically, dijits with simple values bind to leaf nodes of the
datamodel, whereas containers bind to internal nodes of the
datamodel. For example, a datamodel created using the object below
will generate the dojo.Stateful tree as shown:</p>

<p>var model = dojox.mvc.newStatefulModel({ data : {
    prop1   : "foo",
    prop2   : {
        leaf1   : "bar",
        leaf2   : "baz"
    }
}});</p>

<p>// The created dojo.Stateful tree is illustrated below (all nodes are dojo.Stateful objects)
//
//                  o  (root node)
//                 / \
//   (prop1 node) o   o (prop2 node)
//                   / \
//     (leaf1 node) o   o (leaf2 node)
//
// The root node is accessed using the expression "model" (the var name above). The prop1
// node is accessed using the expression "model.prop1", the leaf2 node is accessed using
// the expression "model.prop2.leaf2" and so on.</p></li>
<li><p>Each of the dojo.Stateful nodes in the model may store data as well
as associated "meta-data", which includes things such as whether
the data is required or readOnly etc. This meta-data differs from
that maintained by, for example, an individual dijit in that this
is maintained by the datamodel and may therefore be affected by
datamodel-level constraints that span multiple dijits or even
additional criteria such as server-side computations.</p></li>
<li><p>When the model is backed by a dojo.store or dojo.data query, the
client-side updates can be persisted once the client is ready to
"submit" the changes (which may include both value changes or
structural changes - adds/deletes). The datamodel allows control
over when the underlying data is persisted i.e. this can be more
incremental or batched per application needs.</p></li>
</ul>

<p>There need not be a one-to-one association between a datamodel and
a view or portion thereof. For example, multiple datamodels may
back the dijits in a view. Indeed, this may be useful where the
binding data comes from a number of data sources or queries, for
example. Just as well, dijits from multiple portions of the view
may be bound to a single datamodel.</p>

<p>Finally, requiring this class also enables all dijits to become data
binding aware. The data binding is commonly specified declaratively
via the "ref" property in the "data-dojo-props" attribute value.</p>

<p>To illustrate, the following is the "Hello World" of such data-bound
widget examples:</p>

<pre><code>&lt;script&gt;
    dojo.require("dojox.mvc");
    dojo.require("dojo.parser");
    var model;
    dojo.addOnLoad(function(){
        model = dojox.mvc.newStatefulModel({ data : {
            hello : "Hello World"
        }});
        dojo.parser.parse();
    }
&lt;/script&gt;

&lt;input id="helloInput" dojoType="dijit.form.TextBox"
    ref="model.hello"&gt;
</code></pre>

<p>or</p>

<pre><code>&lt;script&gt;
    var model;
    require(["dojox/mvc", "dojo/parser"], function(dxmvc, parser){
        model = dojox.mvc.newStatefulModel({ data : {
            hello : "Hello World"
        }});
        parser.parse();
    });
&lt;/script&gt;

&lt;input id="helloInput" data-dojo-type="dijit.form.TextBox"
    data-dojo-props="ref: 'model.hello'"&gt;
</code></pre>

<p>Such data binding awareness for dijits is added by extending the
dijit.<em>WidgetBase class to include data binding capabilities
provided by dojox.mvc.</em>DataBindingMixin, and this class declares a
dependency on dojox.mvc._DataBindingMixin.</p>

<p>The presence of a data model and the data-binding capabilities
outlined above support the flexible development of a number of MVC
patterns on the client. As an example, CRUD operations can be
supported with minimal application code.</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">args</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">The mixin properties.</td></tr></table></div><div class="jsdoc-field private inherited odd"><div class="jsdoc-title"><a name="dojox.mvc._Container"></a><span class="functionIcon">dojox.mvc._Container</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/mvc">dojox.mvc</a></div></div><div class="jsdoc-field private inherited even"><div class="jsdoc-title"><a name="dojox.mvc._DataBindingMixin"></a><span class="functionIcon">dojox.mvc._DataBindingMixin</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/mvc">dojox.mvc</a></div><div class="jsdoc-summary"><p>Data binding awareness enables dijits or other view layer
components to bind to locations within a client-side data model,
which is commonly an instance of the dojox.mvc.StatefulModel class. A
bind is a bi-directional update mechanism which is capable of
synchronizing value changes between the bound dijit or other view
component and the specified location within the data model, as well
as changes to other properties such as "valid", "required",
"readOnly" etc.</p>

<p>The data binding is commonly specified declaratively via the "ref"
property in the "data-dojo-props" attribute value.</p>

<p>Consider the following simple example:</p>

<pre><code>&lt;script&gt;
    var model;
    require(["dijit/StatefulModel", "dojo/parser"], function(StatefulModel, parser){
        model = new StatefulModel({ data : {
            hello : "Hello World"
        }});
        parser.parse();
    });
&lt;/script&gt;

&lt;input id="hello1" data-dojo-type="dijit.form.TextBox"
    data-dojo-props="ref: model.hello"&gt;&lt;/input&gt;

&lt;input id="hello2" data-dojo-type="dijit.form.TextBox"
    data-dojo-props="ref: model.hello"&gt;&lt;/input&gt;
</code></pre>

<p>In the above example, both dijit.form.TextBox instances (with IDs
"hello1" and "hello2" respectively) are bound to the same reference
location in the data model i.e. "hello" via the "ref" expression
"model.hello". Both will have an initial value of "Hello World".
Thereafter, a change in the value of either of the two textboxes
will cause an update of the value in the data model at location
"hello" which will in turn cause a matching update of the value in
the other textbox.</p>
</div></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.mvc.bind"></a><span class="functionIcon">dojox.mvc.bind</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/mvc">dojox.mvc</a></div><div class="jsdoc-summary">Bind the specified property of the target to the specified
	property of the source with the supplied transformation.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">source</td><td class="jsdoc-param-type">dojo.Stateful</td><td class="jsdoc-param-description">The source dojo.Stateful object for the bind.</td></tr><tr><td class="jsdoc-param-name">sourceProp</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description">The name of the source's property whose change triggers the bind.</td></tr><tr><td class="jsdoc-param-name">target</td><td class="jsdoc-param-type">dojo.Stateful</td><td class="jsdoc-param-description">The target dojo.Stateful object for the bind whose
	property will be updated with the result of the function.</td></tr><tr><td class="jsdoc-param-name">targetProp</td><td class="jsdoc-param-type">String</td><td class="jsdoc-param-description">The name of the target's property to be updated with the
	result of the function.</td></tr><tr><td class="jsdoc-param-name">func</td><td class="jsdoc-param-type">Function</td><td class="jsdoc-param-description"><div><em>Optional.</em></div>The optional calculation to be performed to obtain the target
	property value.</td></tr><tr><td class="jsdoc-param-name">bindOnlyIfUnequal</td><td class="jsdoc-param-type">Boolean</td><td class="jsdoc-param-description"><div><em>Optional.</em></div>Whether the bind notification should happen only if the old and
	new values are unequal (optional, defaults to false).</td></tr></table></div><div class="jsdoc-field public inherited even"><div class="jsdoc-title"><a name="dojox.mvc.bindInputs"></a><span class="functionIcon">dojox.mvc.bindInputs</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/mvc">dojox.mvc</a></div><div class="jsdoc-summary">Bind the values at the sources specified in the first argument
	array such that a composing function in the second argument is
	called when any of the values changes.</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">sourceBindArray</td><td class="jsdoc-param-type">dojo.Stateful[]</td><td class="jsdoc-param-description">The array of dojo.Stateful objects to watch values changes on.</td></tr><tr><td class="jsdoc-param-name">func</td><td class="jsdoc-param-type">Function</td><td class="jsdoc-param-description">The composing function that is called when any of the source
	values changes.</td></tr></table></div><div class="jsdoc-field public inherited odd"><div class="jsdoc-title"><a name="dojox.mvc.newStatefulModel"></a><span class="functionIcon">dojox.mvc.newStatefulModel</span></div><div class="jsdoc-inheritance">Defined by <a class="jsdoc-link" href="/api/1.7/dojox/mvc">dojox.mvc</a></div><div class="jsdoc-summary"><p>Factory method that returns a client-side data model, which is a
tree of dojo.Stateful objects matching the initial data structure
passed as input:
- The mixin property "data" is used to provide a plain JavaScript
object directly representing the data structure.
- The mixin property "store", along with an optional mixin property
"query", is used to provide a data store to query to obtain the
initial data.
This function returns an immediate dojox.mvc.StatefulModel instance or
a Promise for such an instance as follows:
- if args.data: returns immediate
- if args.store:
- if store returns immediate: this function returns immediate
- if store returns a Promise: this function returns a model
Promise</p>
</div><table class="jsdoc-parameters"><tr><th>Parameter</th><th>Type</th><th>Description</th></tr><tr><td class="jsdoc-param-name">args</td><td class="jsdoc-param-type">Object</td><td class="jsdoc-param-description">The mixin properties.</td></tr></table></div></div></div>